{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore();\n    this.dmSearch.pageSize = computed(() => store.state.pageSize);\n    this.dmSearch.pageIndex = computed(() => store.state.pageIndex);\n    this.dmSearch.category = computed(() => store.state.category);\n    this.dmSearch.itemsLength = computed(() => store.state.itemsLength);\n  },\n  data() {\n    return {\n      itemsList: [],\n      dmSearch: {\n        pageSize: 10,\n        pageIndex: 1,\n        category: \"전체\",\n        itemsLength: 0\n      },\n      categories: [{\n        name: \"전체\",\n        isSel: true\n      }, {\n        name: \"PC관련\",\n        isSel: false\n      }, {\n        name: \"가전\",\n        isSel: false\n      }, {\n        name: \"게임\",\n        isSel: false\n      }, {\n        name: \"식품\",\n        isSel: false\n      }, {\n        name: \"인터넷\",\n        isSel: false\n      }, {\n        name: \"모바일\",\n        isSel: false\n      }, {\n        name: \"이벤트\",\n        isSel: false\n      }, {\n        name: \"쿠폰\",\n        isSel: false\n      }, {\n        name: \"의류잡화\",\n        isSel: false\n      }, {\n        name: \"화장품\",\n        isSel: false\n      }, {\n        name: \"기타\",\n        isSel: false\n      }]\n    };\n  },\n  mounted() {\n    this.search();\n  },\n  methods: {\n    setCategoy(data, idx) {\n      this.dmSearch.category = data;\n      this.dmSearch.pageIndex = 1;\n      for (let i = 0; i < this.categories.length; i++) {\n        if (i == idx) {\n          this.categories[i].isSel = true;\n        } else {\n          this.categories[i].isSel = false;\n        }\n      }\n      this.search();\n    },\n    movePage(BN) {\n      if (this.dmSearch.pageIndex == 1 && BN == -1) {\n        return;\n      }\n      if (this.dmSearch.pageIndex == Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize) && BN == 1) {\n        return;\n      }\n      this.dmSearch.pageIndex += BN;\n      this.search();\n    },\n    movePageStart() {\n      this.dmSearch.pageIndex = 1;\n      this.search();\n    },\n    movePageEnd() {\n      this.dmSearch.pageIndex = Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize);\n      this.search();\n    },\n    pageInputBox_keyup(e) {\n      if (e.key === \"Enter\") {\n        this.inputValueSearch(e);\n      }\n    },\n    inputValueSearch(e) {\n      if (e.target.value < 1) {\n        this.dmSearch.pageIndex = 1;\n      } else if (e.target.value > Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize)) {\n        this.dmSearch.pageIndex = Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize);\n      } else {\n        this.dmSearch.pageIndex = Number(e.target.value);\n      }\n      this.search();\n    },\n    search() {\n      this.$axios.post(process.env.VUE_APP_URL_ITMES + \"/selectListOnBoard\", {\n        params: this.dmSearch\n      }).then(res => {\n        this.itemsList = res.data.itemsList;\n        this.dmSearch.itemsLength = res.data.itemsLength;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    title_onClick(row_id) {\n      this.$router.push({\n        name: \"Detail\",\n        params: {\n          _id: row_id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["computed","useStore","setup","store","dmSearch","pageSize","state","pageIndex","category","itemsLength","data","itemsList","categories","name","isSel","mounted","search","methods","setCategoy","idx","i","length","movePage","BN","Math","ceil","movePageStart","movePageEnd","pageInputBox_keyup","e","key","inputValueSearch","target","value","Number","$axios","post","process","env","VUE_APP_URL_ITMES","params","then","res","catch","err","console","log","title_onClick","row_id","$router","push","_id"],"sources":["C:\\Users\\LJJ\\Desktop\\CheapCheap-ChuCheon\\frontend\\c4\\src\\components\\ItemsBoard.vue"],"sourcesContent":["<template>\r\n  <div class=\"itemsBoardBody\">\r\n    <div class=\"btnGroup\">\r\n      <button\r\n        v-for=\"(row, idx) in categories\"\r\n        :key=\"idx\"\r\n        class=\"btn categoryBtn\"\r\n        :class=\"row.isSel ? 'selBtn' : ''\"\r\n        v-on:click=\"setCategoy(row.name, idx)\"\r\n      >\r\n        {{ row.name }}\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"itemsBoardMiddle\">\r\n      <table class=\"boardTable\">\r\n        <colgroup>\r\n          <col style=\"width: 7%\" />\r\n          <col style=\"width: 63%\" />\r\n          <col style=\"width: 8%\" />\r\n          <col style=\"width: 10%\" />\r\n          <col style=\"width: 12%\" />\r\n        </colgroup>\r\n        <thead class=\"bt1\">\r\n          <tr>\r\n            <th class=\"th_category\">분류</th>\r\n            <th class=\"th_title\">제목</th>\r\n            <th class=\"th_price\">가격</th>\r\n            <th class=\"th_member\">이름</th>\r\n            <th class=\"th_data\">날짜</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(row, idx) in itemsList\" :key=\"idx\" class=\"item\">\r\n            <td>{{ row.categories }}</td>\r\n            <td v-on:click=\"title_onClick(row._id)\">\r\n              {{ row.title }}\r\n            </td>\r\n            <td>{{ row.prices }}</td>\r\n            <td>{{ row.members }}</td>\r\n            <td>{{ row.date }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"pageGroup\">\r\n      <div class=\"pageGroupItem pageCurrent\">\r\n        <input\r\n          id=\"test\"\r\n          class=\"pageInputBox\"\r\n          maxlength=\"7\"\r\n          v-bind:value=\"dmSearch.pageIndex\"\r\n          v-on:keyup=\"pageInputBox_keyup\"\r\n        />\r\n      </div>\r\n      <div class=\"pageGroupItem pageGB\">&nbsp;/&nbsp;</div>\r\n      <div class=\"pageGroupItem pageTotal\">\r\n        {{ Math.ceil(dmSearch.itemsLength / dmSearch.pageSize) }}\r\n      </div>\r\n    </div>\r\n    <div class=\"pageGroup\">\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"movePageStart()\">&lt;&lt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem pageBack\">\r\n        <button class=\"btn\" v-on:click=\"movePage(-1)\">&lt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"search()\">검색</button>\r\n      </div>\r\n      <div class=\"pageGroupItem pageNext\">\r\n        <button class=\"btn\" v-on:click=\"movePage(1)\">&gt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"movePageEnd()\">&gt;&gt;</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore();\r\n    this.dmSearch.pageSize = computed(() => store.state.pageSize);\r\n    this.dmSearch.pageIndex = computed(() => store.state.pageIndex);\r\n    this.dmSearch.category = computed(() => store.state.category);\r\n    this.dmSearch.itemsLength = computed(() => store.state.itemsLength);\r\n  },\r\n  data() {\r\n    return {\r\n      itemsList: [],\r\n      dmSearch: {\r\n        pageSize: 10,\r\n        pageIndex: 1,\r\n        category: \"전체\",\r\n        itemsLength: 0,\r\n      },\r\n      categories: [\r\n        { name: \"전체\", isSel: true },\r\n        { name: \"PC관련\", isSel: false },\r\n        { name: \"가전\", isSel: false },\r\n        { name: \"게임\", isSel: false },\r\n        { name: \"식품\", isSel: false },\r\n        { name: \"인터넷\", isSel: false },\r\n        { name: \"모바일\", isSel: false },\r\n        { name: \"이벤트\", isSel: false },\r\n        { name: \"쿠폰\", isSel: false },\r\n        { name: \"의류잡화\", isSel: false },\r\n        { name: \"화장품\", isSel: false },\r\n        { name: \"기타\", isSel: false },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.search();\r\n  },\r\n  methods: {\r\n    setCategoy(data, idx) {\r\n      this.dmSearch.category = data;\r\n      this.dmSearch.pageIndex = 1;\r\n      for (let i = 0; i < this.categories.length; i++) {\r\n        if (i == idx) {\r\n          this.categories[i].isSel = true;\r\n        } else {\r\n          this.categories[i].isSel = false;\r\n        }\r\n      }\r\n      this.search();\r\n    },\r\n    movePage(BN) {\r\n      if (this.dmSearch.pageIndex == 1 && BN == -1) {\r\n        return;\r\n      }\r\n      if (\r\n        this.dmSearch.pageIndex ==\r\n          Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize) &&\r\n        BN == 1\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      this.dmSearch.pageIndex += BN;\r\n      this.search();\r\n    },\r\n    movePageStart() {\r\n      this.dmSearch.pageIndex = 1;\r\n      this.search();\r\n    },\r\n    movePageEnd() {\r\n      this.dmSearch.pageIndex = Math.ceil(\r\n        this.dmSearch.itemsLength / this.dmSearch.pageSize\r\n      );\r\n      this.search();\r\n    },\r\n    pageInputBox_keyup(e) {\r\n      if (e.key === \"Enter\") {\r\n        this.inputValueSearch(e);\r\n      }\r\n    },\r\n    inputValueSearch(e) {\r\n      if (e.target.value < 1) {\r\n        this.dmSearch.pageIndex = 1;\r\n      } else if (\r\n        e.target.value >\r\n        Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize)\r\n      ) {\r\n        this.dmSearch.pageIndex = Math.ceil(\r\n          this.dmSearch.itemsLength / this.dmSearch.pageSize\r\n        );\r\n      } else {\r\n        this.dmSearch.pageIndex = Number(e.target.value);\r\n      }\r\n      this.search();\r\n    },\r\n    search() {\r\n      this.$axios\r\n        .post(process.env.VUE_APP_URL_ITMES + \"/selectListOnBoard\", {\r\n          params: this.dmSearch,\r\n        })\r\n        .then((res) => {\r\n          this.itemsList = res.data.itemsList;\r\n          this.dmSearch.itemsLength = res.data.itemsLength;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    title_onClick(row_id) {\r\n      this.$router.push({\r\n        name: \"Detail\",\r\n        params: { _id: row_id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.itemsBoardBody {\r\n  background-color: #323232;\r\n  margin: 40px;\r\n  padding: 20px;\r\n}\r\n\r\n.itemsBoardMiddle {\r\n  height: 80%;\r\n  overflow: auto;\r\n}\r\n\r\n.boardTable {\r\n  width: 100%;\r\n  border-spacing: 0 11px;\r\n  table-layout: fixed;\r\n}\r\n\r\n.bt1 {\r\n  border-bottom: 2px solid white;\r\n  background: #262626;\r\n}\r\n\r\ntd {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\ntd:nth-child(1),\r\ntd:nth-child(3),\r\ntd:nth-child(4),\r\ntd:nth-child(5) {\r\n  text-align: center;\r\n}\r\n\r\n.item {\r\n  text-decoration: none;\r\n}\r\n\r\n.item > td:nth-child(2):hover {\r\n  cursor: pointer;\r\n  color: aqua;\r\n}\r\n\r\n.btnGroup {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.categoryBtn {\r\n  margin-right: 5px;\r\n  margin-bottom: 2px;\r\n  border-radius: 3px;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.btn {\r\n  background: #1a1a1a;\r\n  margin-right: 5px;\r\n  margin-bottom: 2px;\r\n  border-radius: 3px;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.btn:hover {\r\n  cursor: pointer;\r\n  background: transparent;\r\n}\r\n\r\n.pageGroup {\r\n  margin-top: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.pageGroupItem {\r\n  display: inline-block;\r\n  margin: 0 2px;\r\n}\r\n\r\n.pageInputBox {\r\n  background: transparent;\r\n  min-width: 40px;\r\n  width: 2.5vw;\r\n  text-align: center;\r\n}\r\n\r\n.selBtn {\r\n  background: transparent;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}