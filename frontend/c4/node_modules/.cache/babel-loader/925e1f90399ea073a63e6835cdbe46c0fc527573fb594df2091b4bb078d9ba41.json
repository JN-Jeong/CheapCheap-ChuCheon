{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore();\n    let dmSearch = computed(() => store.state.dmSearch);\n    let categories = computed(() => store.state.categories);\n    return {\n      dmSearch\n    };\n  },\n  data() {\n    return {\n      itemsList: [],\n      categories: [{\n        name: \"전체\",\n        isSel: true\n      }, {\n        name: \"PC관련\",\n        isSel: false\n      }, {\n        name: \"가전\",\n        isSel: false\n      }, {\n        name: \"게임\",\n        isSel: false\n      }, {\n        name: \"식품\",\n        isSel: false\n      }, {\n        name: \"인터넷\",\n        isSel: false\n      }, {\n        name: \"모바일\",\n        isSel: false\n      }, {\n        name: \"이벤트\",\n        isSel: false\n      }, {\n        name: \"쿠폰\",\n        isSel: false\n      }, {\n        name: \"의류잡화\",\n        isSel: false\n      }, {\n        name: \"화장품\",\n        isSel: false\n      }, {\n        name: \"기타\",\n        isSel: false\n      }]\n    };\n  },\n  mounted() {\n    this.search();\n  },\n  methods: {\n    setCategoy(data, idx) {\n      this.dmSearch.category = data;\n      this.dmSearch.pageIndex = 1;\n      for (let i = 0; i < this.categories.length; i++) {\n        if (i == idx) {\n          this.categories[i].isSel = true;\n        } else {\n          this.categories[i].isSel = false;\n        }\n      }\n      this.search();\n    },\n    movePage(BN) {\n      if (this.dmSearch.pageIndex == 1 && BN == -1) {\n        return;\n      }\n      if (this.dmSearch.pageIndex == Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize) && BN == 1) {\n        return;\n      }\n      this.dmSearch.pageIndex += BN;\n      this.search();\n    },\n    movePageStart() {\n      this.dmSearch.pageIndex = 1;\n      this.search();\n    },\n    movePageEnd() {\n      this.dmSearch.pageIndex = Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize);\n      this.search();\n    },\n    pageInputBox_keyup(e) {\n      if (e.key === \"Enter\") {\n        this.inputValueSearch(e);\n      }\n    },\n    inputValueSearch(e) {\n      if (e.target.value < 1) {\n        this.dmSearch.pageIndex = 1;\n      } else if (e.target.value > Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize)) {\n        this.dmSearch.pageIndex = Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize);\n      } else {\n        this.dmSearch.pageIndex = Number(e.target.value);\n      }\n      this.search();\n    },\n    search() {\n      this.$axios.post(process.env.VUE_APP_URL_ITMES + \"/selectListOnBoard\", {\n        params: this.dmSearch\n      }).then(res => {\n        this.itemsList = res.data.itemsList;\n        this.dmSearch.itemsLength = res.data.itemsLength;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    title_onClick(row_id) {\n      this.$router.push({\n        name: \"Detail\",\n        params: {\n          _id: row_id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["computed","useStore","setup","store","dmSearch","state","categories","data","itemsList","name","isSel","mounted","search","methods","setCategoy","idx","category","pageIndex","i","length","movePage","BN","Math","ceil","itemsLength","pageSize","movePageStart","movePageEnd","pageInputBox_keyup","e","key","inputValueSearch","target","value","Number","$axios","post","process","env","VUE_APP_URL_ITMES","params","then","res","catch","err","console","log","title_onClick","row_id","$router","push","_id"],"sources":["C:\\Users\\LJJ\\Desktop\\CheapCheap-ChuCheon\\frontend\\c4\\src\\components\\ItemsBoard.vue"],"sourcesContent":["<template>\r\n  <div class=\"itemsBoardBody\">\r\n    <div class=\"btnGroup\">\r\n      <button\r\n        v-for=\"(row, idx) in categories\"\r\n        :key=\"idx\"\r\n        class=\"btn categoryBtn\"\r\n        :class=\"row.isSel ? 'selBtn' : ''\"\r\n        v-on:click=\"setCategoy(row.name, idx)\"\r\n      >\r\n        {{ row.name }}\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"itemsBoardMiddle\">\r\n      <table class=\"boardTable\">\r\n        <colgroup>\r\n          <col style=\"width: 7%\" />\r\n          <col style=\"width: 63%\" />\r\n          <col style=\"width: 8%\" />\r\n          <col style=\"width: 10%\" />\r\n          <col style=\"width: 12%\" />\r\n        </colgroup>\r\n        <thead class=\"bt1\">\r\n          <tr>\r\n            <th class=\"th_category\">분류</th>\r\n            <th class=\"th_title\">제목</th>\r\n            <th class=\"th_price\">가격</th>\r\n            <th class=\"th_member\">이름</th>\r\n            <th class=\"th_data\">날짜</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(row, idx) in itemsList\" :key=\"idx\" class=\"item\">\r\n            <td>{{ row.categories }}</td>\r\n            <td v-on:click=\"title_onClick(row._id)\">\r\n              {{ row.title }}\r\n            </td>\r\n            <td>{{ row.prices }}</td>\r\n            <td>{{ row.members }}</td>\r\n            <td>{{ row.date }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"pageGroup\">\r\n      <div class=\"pageGroupItem pageCurrent\">\r\n        <input\r\n          id=\"test\"\r\n          class=\"pageInputBox\"\r\n          maxlength=\"7\"\r\n          v-bind:value=\"dmSearch.pageIndex\"\r\n          v-on:keyup=\"pageInputBox_keyup\"\r\n        />\r\n      </div>\r\n      <div class=\"pageGroupItem pageGB\">&nbsp;/&nbsp;</div>\r\n      <div class=\"pageGroupItem pageTotal\">\r\n        {{ Math.ceil(dmSearch.itemsLength / dmSearch.pageSize) }}\r\n      </div>\r\n    </div>\r\n    <div class=\"pageGroup\">\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"movePageStart()\">&lt;&lt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem pageBack\">\r\n        <button class=\"btn\" v-on:click=\"movePage(-1)\">&lt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"search()\">검색</button>\r\n      </div>\r\n      <div class=\"pageGroupItem pageNext\">\r\n        <button class=\"btn\" v-on:click=\"movePage(1)\">&gt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"movePageEnd()\">&gt;&gt;</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore();\r\n    let dmSearch = computed(() => store.state.dmSearch);\r\n    let categories = computed(() => store.state.categories);\r\n\r\n    return { dmSearch };\r\n  },\r\n  data() {\r\n    return {\r\n      itemsList: [],\r\n      categories: [\r\n        { name: \"전체\", isSel: true },\r\n        { name: \"PC관련\", isSel: false },\r\n        { name: \"가전\", isSel: false },\r\n        { name: \"게임\", isSel: false },\r\n        { name: \"식품\", isSel: false },\r\n        { name: \"인터넷\", isSel: false },\r\n        { name: \"모바일\", isSel: false },\r\n        { name: \"이벤트\", isSel: false },\r\n        { name: \"쿠폰\", isSel: false },\r\n        { name: \"의류잡화\", isSel: false },\r\n        { name: \"화장품\", isSel: false },\r\n        { name: \"기타\", isSel: false },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.search();\r\n  },\r\n  methods: {\r\n    setCategoy(data, idx) {\r\n      this.dmSearch.category = data;\r\n      this.dmSearch.pageIndex = 1;\r\n      for (let i = 0; i < this.categories.length; i++) {\r\n        if (i == idx) {\r\n          this.categories[i].isSel = true;\r\n        } else {\r\n          this.categories[i].isSel = false;\r\n        }\r\n      }\r\n      this.search();\r\n    },\r\n    movePage(BN) {\r\n      if (this.dmSearch.pageIndex == 1 && BN == -1) {\r\n        return;\r\n      }\r\n      if (\r\n        this.dmSearch.pageIndex ==\r\n          Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize) &&\r\n        BN == 1\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      this.dmSearch.pageIndex += BN;\r\n      this.search();\r\n    },\r\n    movePageStart() {\r\n      this.dmSearch.pageIndex = 1;\r\n      this.search();\r\n    },\r\n    movePageEnd() {\r\n      this.dmSearch.pageIndex = Math.ceil(\r\n        this.dmSearch.itemsLength / this.dmSearch.pageSize\r\n      );\r\n      this.search();\r\n    },\r\n    pageInputBox_keyup(e) {\r\n      if (e.key === \"Enter\") {\r\n        this.inputValueSearch(e);\r\n      }\r\n    },\r\n    inputValueSearch(e) {\r\n      if (e.target.value < 1) {\r\n        this.dmSearch.pageIndex = 1;\r\n      } else if (\r\n        e.target.value >\r\n        Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize)\r\n      ) {\r\n        this.dmSearch.pageIndex = Math.ceil(\r\n          this.dmSearch.itemsLength / this.dmSearch.pageSize\r\n        );\r\n      } else {\r\n        this.dmSearch.pageIndex = Number(e.target.value);\r\n      }\r\n      this.search();\r\n    },\r\n    search() {\r\n      this.$axios\r\n        .post(process.env.VUE_APP_URL_ITMES + \"/selectListOnBoard\", {\r\n          params: this.dmSearch,\r\n        })\r\n        .then((res) => {\r\n          this.itemsList = res.data.itemsList;\r\n          this.dmSearch.itemsLength = res.data.itemsLength;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    title_onClick(row_id) {\r\n      this.$router.push({\r\n        name: \"Detail\",\r\n        params: { _id: row_id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.itemsBoardBody {\r\n  background-color: #323232;\r\n  margin: 40px;\r\n  padding: 20px;\r\n}\r\n\r\n.itemsBoardMiddle {\r\n  height: 80%;\r\n  overflow: auto;\r\n}\r\n\r\n.boardTable {\r\n  width: 100%;\r\n  border-spacing: 0 11px;\r\n  table-layout: fixed;\r\n}\r\n\r\n.bt1 {\r\n  border-bottom: 2px solid white;\r\n  background: #262626;\r\n}\r\n\r\ntd {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\ntd:nth-child(1),\r\ntd:nth-child(3),\r\ntd:nth-child(4),\r\ntd:nth-child(5) {\r\n  text-align: center;\r\n}\r\n\r\n.item {\r\n  text-decoration: none;\r\n}\r\n\r\n.item > td:nth-child(2):hover {\r\n  cursor: pointer;\r\n  color: aqua;\r\n}\r\n\r\n.btnGroup {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.categoryBtn {\r\n  margin-right: 5px;\r\n  margin-bottom: 2px;\r\n  border-radius: 3px;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.btn {\r\n  background: #1a1a1a;\r\n  margin-right: 5px;\r\n  margin-bottom: 2px;\r\n  border-radius: 3px;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.btn:hover {\r\n  cursor: pointer;\r\n  background: transparent;\r\n}\r\n\r\n.pageGroup {\r\n  margin-top: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.pageGroupItem {\r\n  display: inline-block;\r\n  margin: 0 2px;\r\n}\r\n\r\n.pageInputBox {\r\n  background: transparent;\r\n  min-width: 40px;\r\n  width: 2.5vw;\r\n  text-align: center;\r\n}\r\n\r\n.selBtn {\r\n  background: transparent;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}