{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore();\n    let dmSearch = computed(() => store.state.dmSearch);\n    let categories = computed(() => store.state.categories);\n    return {\n      dmSearch,\n      categories\n    };\n  },\n  data() {\n    return {\n      itemsList: []\n    };\n  },\n  mounted() {\n    this.search();\n  },\n  methods: {\n    setCategoy(data, idx) {\n      this.dmSearch.category = data;\n      this.dmSearch.pageIndex = 1;\n      for (let i = 0; i < this.categories.length; i++) {\n        if (i == idx) {\n          this.categories[i].isSel = true;\n        } else {\n          this.categories[i].isSel = false;\n        }\n      }\n      this.search();\n    },\n    movePage(BN) {\n      if (this.dmSearch.pageIndex == 1 && BN == -1) {\n        return;\n      }\n      if (this.dmSearch.pageIndex == Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize) && BN == 1) {\n        return;\n      }\n      this.dmSearch.pageIndex += BN;\n      this.search();\n    },\n    movePageStart() {\n      this.dmSearch.pageIndex = 1;\n      this.search();\n    },\n    movePageEnd() {\n      this.dmSearch.pageIndex = Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize);\n      this.search();\n    },\n    pageInputBox_keyup(e) {\n      if (e.key === \"Enter\") {\n        this.checkInputValue();\n        this.search();\n      }\n    },\n    btn_search_onclick(e) {\n      this.checkInputValue();\n      this.search();\n    },\n    checkInputValue() {\n      if (this.dmSearch.pageIndex < 1) {\n        this.dmSearch.pageIndex = 1;\n      } else if (this.dmSearch.pageIndex > Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize)) {\n        this.dmSearch.pageIndex = Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize);\n      }\n    },\n    search() {\n      this.$axios.post(process.env.VUE_APP_URL_ITMES + \"/selectListOnBoard\", {\n        params: this.dmSearch\n      }).then(res => {\n        this.itemsList = res.data.itemsList;\n        this.dmSearch.itemsLength = res.data.itemsLength;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    title_onClick(row_id) {\n      this.$router.push({\n        name: \"Detail\",\n        params: {\n          _id: row_id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["computed","useStore","setup","store","dmSearch","state","categories","data","itemsList","mounted","search","methods","setCategoy","idx","category","pageIndex","i","length","isSel","movePage","BN","Math","ceil","itemsLength","pageSize","movePageStart","movePageEnd","pageInputBox_keyup","e","key","checkInputValue","btn_search_onclick","$axios","post","process","env","VUE_APP_URL_ITMES","params","then","res","catch","err","console","log","title_onClick","row_id","$router","push","name","_id"],"sources":["C:\\Users\\LJJ\\Desktop\\CheapCheap-ChuCheon\\frontend\\c4\\src\\components\\ItemsBoard.vue"],"sourcesContent":["<template>\r\n  <div class=\"itemsBoardBody\">\r\n    <div class=\"btnGroup\">\r\n      <button\r\n        v-for=\"(row, idx) in categories\"\r\n        :key=\"idx\"\r\n        class=\"btn categoryBtn\"\r\n        :class=\"row.isSel ? 'selBtn' : ''\"\r\n        v-on:click=\"setCategoy(row.name, idx)\"\r\n      >\r\n        {{ row.name }}\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"itemsBoardMiddle\">\r\n      <table class=\"boardTable\">\r\n        <colgroup>\r\n          <col style=\"width: 7%\" />\r\n          <col style=\"width: 63%\" />\r\n          <col style=\"width: 8%\" />\r\n          <col style=\"width: 10%\" />\r\n          <col style=\"width: 12%\" />\r\n        </colgroup>\r\n        <thead class=\"bt1\">\r\n          <tr>\r\n            <th class=\"th_category\">분류</th>\r\n            <th class=\"th_title\">제목</th>\r\n            <th class=\"th_price\">가격</th>\r\n            <th class=\"th_member\">이름</th>\r\n            <th class=\"th_data\">날짜</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(row, idx) in itemsList\" :key=\"idx\" class=\"item\">\r\n            <td>{{ row.categories }}</td>\r\n            <td v-on:click=\"title_onClick(row._id)\">\r\n              {{ row.title }}\r\n            </td>\r\n            <td>{{ row.prices }}</td>\r\n            <td>{{ row.members }}</td>\r\n            <td>{{ row.date }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"pageGroup\">\r\n      <div class=\"pageGroupItem pageCurrent\">\r\n        <input\r\n          id=\"test\"\r\n          class=\"pageInputBox\"\r\n          maxlength=\"7\"\r\n          v-model=\"dmSearch.pageIndex\"\r\n          @keyup=\"pageInputBox_keyup\"\r\n        />\r\n      </div>\r\n      <div class=\"pageGroupItem pageGB\">&nbsp;/&nbsp;</div>\r\n      <div class=\"pageGroupItem pageTotal\">\r\n        {{ Math.ceil(dmSearch.itemsLength / dmSearch.pageSize) }}\r\n      </div>\r\n    </div>\r\n    <div class=\"pageGroup\">\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"movePageStart()\">&lt;&lt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem pageBack\">\r\n        <button class=\"btn\" v-on:click=\"movePage(-1)\">&lt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"search()\">검색</button>\r\n      </div>\r\n      <div class=\"pageGroupItem pageNext\">\r\n        <button class=\"btn\" v-on:click=\"movePage(1)\">&gt;</button>\r\n      </div>\r\n      <div class=\"pageGroupItem\">\r\n        <button class=\"btn\" v-on:click=\"movePageEnd()\">&gt;&gt;</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore();\r\n    let dmSearch = computed(() => store.state.dmSearch);\r\n    let categories = computed(() => store.state.categories);\r\n\r\n    return { dmSearch, categories };\r\n  },\r\n  data() {\r\n    return {\r\n      itemsList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.search();\r\n  },\r\n  methods: {\r\n    setCategoy(data, idx) {\r\n      this.dmSearch.category = data;\r\n      this.dmSearch.pageIndex = 1;\r\n      for (let i = 0; i < this.categories.length; i++) {\r\n        if (i == idx) {\r\n          this.categories[i].isSel = true;\r\n        } else {\r\n          this.categories[i].isSel = false;\r\n        }\r\n      }\r\n      this.search();\r\n    },\r\n    movePage(BN) {\r\n      if (this.dmSearch.pageIndex == 1 && BN == -1) {\r\n        return;\r\n      }\r\n      if (\r\n        this.dmSearch.pageIndex ==\r\n          Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize) &&\r\n        BN == 1\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      this.dmSearch.pageIndex += BN;\r\n      this.search();\r\n    },\r\n    movePageStart() {\r\n      this.dmSearch.pageIndex = 1;\r\n      this.search();\r\n    },\r\n    movePageEnd() {\r\n      this.dmSearch.pageIndex = Math.ceil(\r\n        this.dmSearch.itemsLength / this.dmSearch.pageSize\r\n      );\r\n      this.search();\r\n    },\r\n    pageInputBox_keyup(e) {\r\n      if (e.key === \"Enter\") {\r\n        this.checkInputValue();\r\n        this.search();\r\n      }\r\n    },\r\n    btn_search_onclick(e) {\r\n      this.checkInputValue();\r\n      this.search();\r\n    },\r\n    checkInputValue() {\r\n      if (this.dmSearch.pageIndex < 1) {\r\n        this.dmSearch.pageIndex = 1;\r\n      } else if (\r\n        this.dmSearch.pageIndex >\r\n        Math.ceil(this.dmSearch.itemsLength / this.dmSearch.pageSize)\r\n      ) {\r\n        this.dmSearch.pageIndex = Math.ceil(\r\n          this.dmSearch.itemsLength / this.dmSearch.pageSize\r\n        );\r\n      }\r\n    },\r\n    search() {\r\n      this.$axios\r\n        .post(process.env.VUE_APP_URL_ITMES + \"/selectListOnBoard\", {\r\n          params: this.dmSearch,\r\n        })\r\n        .then((res) => {\r\n          this.itemsList = res.data.itemsList;\r\n          this.dmSearch.itemsLength = res.data.itemsLength;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    title_onClick(row_id) {\r\n      this.$router.push({\r\n        name: \"Detail\",\r\n        params: { _id: row_id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.itemsBoardBody {\r\n  background-color: #323232;\r\n  margin: 40px;\r\n  padding: 20px;\r\n}\r\n\r\n.itemsBoardMiddle {\r\n  height: 80%;\r\n  overflow: auto;\r\n}\r\n\r\n.boardTable {\r\n  width: 100%;\r\n  border-spacing: 0 11px;\r\n  table-layout: fixed;\r\n}\r\n\r\n.bt1 {\r\n  border-bottom: 2px solid white;\r\n  background: #262626;\r\n}\r\n\r\ntd {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\ntd:nth-child(1),\r\ntd:nth-child(3),\r\ntd:nth-child(4),\r\ntd:nth-child(5) {\r\n  text-align: center;\r\n}\r\n\r\n.item {\r\n  text-decoration: none;\r\n}\r\n\r\n.item > td:nth-child(2):hover {\r\n  cursor: pointer;\r\n  color: aqua;\r\n}\r\n\r\n.btnGroup {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.categoryBtn {\r\n  margin-right: 5px;\r\n  margin-bottom: 2px;\r\n  border-radius: 3px;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.btn {\r\n  background: #1a1a1a;\r\n  margin-right: 5px;\r\n  margin-bottom: 2px;\r\n  border-radius: 3px;\r\n  padding: 2px 5px;\r\n}\r\n\r\n.btn:hover {\r\n  cursor: pointer;\r\n  background: transparent;\r\n}\r\n\r\n.pageGroup {\r\n  margin-top: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.pageGroupItem {\r\n  display: inline-block;\r\n  margin: 0 2px;\r\n}\r\n\r\n.pageInputBox {\r\n  background: transparent;\r\n  min-width: 40px;\r\n  width: 2.5vw;\r\n  text-align: center;\r\n}\r\n\r\n.selBtn {\r\n  background: transparent;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}